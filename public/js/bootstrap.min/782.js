"use strict";(self.webpackChunknexopos_4x=self.webpackChunknexopos_4x||[]).push([[782],{2782:(e,t,s)=>{s.r(t),s.d(t,{default:()=>P});var r,n=s(1058),o=s.n(n);function a(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const i={name:"gastro-kitchen-settings",data:function(){return console.log(this),{validation:new FormValidation,fields:[]}},computed:{title:function(){return this.$popupParams.title||__m("Untitled Popup","NsGastro")}},mounted:function(){this.fields=this.validation.createFields(this.$popupParams.fields),this.popupCloser()},methods:(r={__m,popupResolver,popupCloser,saveForm:function(){this.popupResolver(this.validation.extractFields(this.fields))}},a(r,"popupCloser",popupCloser),a(r,"popupResolver",popupResolver),a(r,"closePopup",(function(){this.popupResolver(!1)})),r)};var l=s(1900);const c=(0,l.Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"w-95vw md:w-3/5-screen lg:w-2/5-screen shadow-xl ns-box"},[s("div",{staticClass:"p-2 flex items-center border-b ns-box-header justify-between"},[s("div",{staticClass:"h3 font-semibold"},[e._v(e._s(e.title))]),e._v(" "),s("div",[s("ns-close-button",{on:{click:function(t){return e.popupResolver(!1)}}})],1)]),e._v(" "),s("div",{staticClass:"p-2"},e._l(e.fields,(function(e,t){return s("ns-field",{key:t,attrs:{field:e}})})),1),e._v(" "),s("div",{staticClass:"p-2 border-t ns-box-body flex justify-between"},[s("div"),e._v(" "),s("div",[s("ns-button",{attrs:{type:"info"},on:{click:function(t){return e.saveForm()}}},[e._v(e._s(e.__m("Save","NsGastro")))])],1)])])}),[],!1,null,null,null).exports;const u={name:"gastro-pos-order-move",data:function(){return{order:null,tableName:"",watchTimeout:null,tables:[]}},watch:{tableName:function(){var e=this;clearTimeout(this.watchTimeout),this.watchTimeout=setTimeout((function(){e.searchTables(e.tableName)}),1e3)}},methods:{popupResolver,popupCloser,__m,closePopup:function(){this.popupResolver(!1)},moveTo:function(e){var t=this;Popup.show(nsConfirmPopup,{title:__m('Move The Order To "{table}" ?',"NsGastro").replace("{table}",e.name),message:__m("The order will be moved to a new table. Would you like to confirm ? ","NsGastro"),onAction:function(s){s&&t.proceedMove(t.order,e)}})},proceedMove:function(e,t){var s=this;nsHttpClient.post("/api/nexopos/v4/gastro/orders/".concat(e.id,"/change-table"),{table_id:t.id}).subscribe((function(e){nsSnackBar.success(e.message,"OK",{duration:3e3}).subscribe(),s.popupResolver(!0)}),(function(e){var t=e.message||__m("An unexpected error occured while moving the order.","NsGastro");nsSnackBar.error(t,"OK",{duration:3e3}).subscribe()}))},searchTables:function(e){var t=this;nsHttpClient.post("/api/nexopos/v4/gastro/tables/search",{search:e}).subscribe((function(e){t.tables=e}))}},mounted:function(){this.popupCloser(),this.order=this.$popupParams.order}};const d=(0,l.Z)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.order?s("div",{staticClass:"shadow-full ns-box w-95vw h-95vh md:w-3/4-screen lg:w-3/6-screen md:h-half overflow-hidden flex flex-col"},[s("div",{staticClass:"border-b ns-box-header p-2 flex flex-col md:flex-row justify-between items-center"},[s("div",{staticClass:"flex-auto"},[s("h3",{staticClass:"font-semibold mb-1 md:mb-0"},[e._v(e._s(e.__m("Move Order","NsGastro")))])]),e._v(" "),s("div",{staticClass:"flex items-center justify-between w-full md:w-auto"},[s("div",{staticClass:"px-1"},[s("ns-close-button",{on:{click:function(t){return e.closePopup()}}})],1)])]),e._v(" "),s("div",{staticClass:"p-2 ns-box-body flex-auto flex flex-col overflow-hidden"},[s("p",{staticClass:"text-center mb-4 text-primary"},[e._v(e._s(e.__m("You're about to move the order {order}. Please select the table where you would like to move the order.","NsGastro").replace("{order}",this.order.code)))]),e._v(" "),s("div",{staticClass:"shadow rounded elevation-surface flex flex-col overflow-hidden"},[s("div",{staticClass:"p-2 flex-col flex border-b"},[s("div",{staticClass:"input-group border-2 overflow-hidden"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.tableName,expression:"tableName"}],staticClass:"w-full p-2",attrs:{type:"text",placeholder:e.__m("Search a table","NsGastro")},domProps:{value:e.tableName},on:{input:function(t){t.target.composing||(e.tableName=t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"overflow-y-auto"},[s("ul",e._l(e.tables,(function(t){return s("li",{key:t.id,staticClass:"hover:bg-blue-100 cursor-pointer text-primary p-2 border-b flex justify-between",on:{click:function(s){return e.moveTo(t)}}},[s("span",[e._v(e._s(t.name))]),e._v(" "),s("div",[t.busy?e._e():s("span",{staticClass:"rounded-full px-2 text-xs py-1 bg-green-400"},[e._v(e._s(e.__m("Available","NsGastro")))]),e._v(" "),t.busy?s("span",{staticClass:"rounded-full px-2 text-xs py-1 bg-yellow-400"},[e._v(e._s(e.__m("Busy","NsGastro")))]):e._e()])])})),0)])])])]):e._e()}),[],!1,null,null,null).exports;function p(e,t,s,r,n,o,a){try{var i=e[o](a),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function f(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function a(e){p(o,r,n,a,i,"next",e)}function i(e){p(o,r,n,a,i,"throw",e)}a(void 0)}))}}const _={name:"gastro-pos-order-options",data:function(){var e=this;return{options:nsHooks.applyFilters("ns-gastro-order-options",[{label:__m("Move","NsGastro"),icon:"la-expand-arrows-alt ",onClick:function(t){return e.moveOrder(t)}},{label:__m("Request","NsGastro"),icon:"la-mitten",onClick:function(t){return e.requestOrder(t)}}]),order:null}},mounted:function(){this.popupCloser(),this.order=this.$popupParams.order,this.popupCloser()},methods:{__m,popupCloser,popupResolver,closePopup:function(){this.popupResolver(!1)},requestOrder:function(e){var t=this;return f(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if("ready"===e.gastro_order_status){s.next=2;break}return s.abrupt("return",nsSnackBar.error(__m("Unable to request an order that is not ready.","NsGastro")).subscribe());case 2:Popup.show(nsConfirmPopup,{title:__m("Confirm Request","NsGastro"),message:__m("The request will be submitted to the kitchen.","NsGastro"),onAction:function(s){s&&nsHttpClient.get("/api/nexopos/v4/gastro/orders/".concat(e.id,"/request")).subscribe((function(e){t.popupResolver(!0),nsSnackBar.success(e.message,__m("Ok","NsGastro"),{duration:3e3}).subscribe()}),(function(e){nsSnackBar.error(e.message||__m("An unexpected error has occured.","NsGastro"),__m("Ok","NsGastro"),{duration:3e3}).subscribe()}))}});case 3:case"end":return s.stop()}}),s)})))()},moveOrder:function(e){var t=this;return f(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,new Promise((function(s,r){Popup.show(d,{resolve:s,reject:r,$parent:t,order:e})}));case 3:s.sent,t.popupResolver(!0),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()}}};const b=(0,l.Z)(_,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shadow-full ns-box w-95vw h-1/2 md:w-3/4-screen lg:w-3/6-screen overflow-hidden flex flex-col"},[s("div",{staticClass:"grid grid-cols-2"},e._l(e.options,(function(t,r){return s("div",{key:r,staticClass:"border ns-numpad-key flex cursor-pointer items-center justify-center go-h-52 flex-col",on:{click:function(s){return t.onClick(e.order)}}},[s("i",{staticClass:"las go-text-8xl mr-1",class:t.icon}),e._v(" "),s("span",[e._v(e._s(t.label))])])})),0)])}),[],!1,null,null,null).exports;function v(e,t,s,r,n,o,a){try{var i=e[o](a),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function m(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function a(e){v(o,r,n,a,i,"next",e)}function i(e){v(o,r,n,a,i,"throw",e)}a(void 0)}))}}const h={name:"gastro-pos-product-options",computed:{product:function(){return this.$popupParams.product}},mounted:function(){this.popupCloser()},methods:{__m,popupResolver,popupCloser,updateNote:function(){var e=this;return m(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("pending"===e.product.cooking_status){t.next=2;break}return t.abrupt("return",nsSnackBar.error(__m("Unable to edit this product notes.","NsGastro")).subscribe());case 2:return t.prev=2,t.next=5,new Promise((function(t,s){Popup.show(nsPromptPopup,{resolve:t,reject:s,input:e.product.cooking_note,title:"Meal Note",message:"The following note will be visible at the kitchen and on the kitchen slip.",onAction:function(e){t(e)}})}));case 5:s=t.sent,e.product.cooking_note=s,nsHttpClient.post("/api/nexopos/v4/gastro/products/".concat(e.product.id,"/note"),{note:s}).subscribe((function(t){e.popupResolver(e.product),nsSnackBar.success(t.message).subscribe()}),(function(e){nsSnackBar.error(e.message||__m("An unexpected error occured.","NsGastro")).subscribe()})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},serveMeal:function(){var e=this;return m(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ready"===e.product.cooking_status){t.next=2;break}return t.abrupt("return",nsSnackBar.error(__m("Unable to serve a meal that is not ready.","NsGastro")).subscribe());case 2:return t.prev=2,t.next=5,new Promise((function(t,s){Popup.show(nsConfirmPopup,{title:__m("Would You Serve The Meal ?","NsGastro"),resolve:t,reject:s,message:__m("You're about to serve the meal \"{product}\". note that this operation can't be canceled.","NsGastro").replace("{product}",e.product.name),onAction:function(t){t&&nsHttpClient.post("/api/nexopos/v4/gastro/products/".concat(e.product.id,"/serve"),{reason:t}).subscribe((function(t){nsSnackBar.success(t.message).subscribe(),e.popupResolver(t)}),(function(e){nsSnackBar.error(e.message||__m("An unexpected error occured.","NsGastro")).subscribe()}))}})}));case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))()},printCanceledMeal:function(e){Gastro.printOrderCanceledMealKitchen(e)},cancelMeal:function(){var e=this;return m(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("canceled"!==e.product.cooking_status){t.next=2;break}return t.abrupt("return",nsSnackBar.error(__m("Unable to cancel an already canceled product.","NsGastro")).subscribe());case 2:return t.prev=2,t.next=5,new Promise((function(t,s){Popup.show(nsPromptPopup,{title:__m("Confirm Your Action","NsGastro"),resolve:t,reject:s,message:__m('You\'re about to cancel "{product}". Please provide a reason for this action.',"NsGastro").replace("{product}",e.product.name),onAction:function(t){"string"==typeof t&&nsHttpClient.post("/api/nexopos/v4/gastro/products/".concat(e.product.id,"/cancel"),{reason:t}).subscribe((function(t){nsSnackBar.success(t.message).subscribe(),e.$popupParams.product=t.data.product,e.printCanceledMeal(e.product.order_id)}),(function(e){nsSnackBar.error(e.message||__m("An unexpected error occured.","NsGastro")).subscribe()}))}})}));case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))()}}};const x=(0,l.Z)(h,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ns-box shadow-lg w-2/3-screen md:w-1/3-screen overflow-hidden"},[s("div",{staticClass:"p-2 border-b ns-box-header flex justify-between items-center"},[s("span",[e._v(e._s(e.__m("Product Options","NsGastro")))]),e._v(" "),s("div",[s("ns-close-button",{on:{click:function(t){return e.popupResolver(!1)}}})],1)]),e._v(" "),s("div",{staticClass:"grid grid-cols-2"},[s("div",{staticClass:"h-32 border ns-numpad-key flex items-center justify-center flex-col",class:"ready"===e.product.cooking_status?"cursor-pointer":"cursor-not-allowed",on:{click:function(t){return e.serveMeal()}}},[s("i",{staticClass:"text-6xl las la-concierge-bell"}),e._v(" "),s("span",[e._v(e._s(e.__m("Served","NsGastro")))])]),e._v(" "),s("div",{staticClass:"cursor-pointer h-32 border ns-numpad-key flex items-center justify-center flex-col",class:"canceled"!==e.product.cooking_status?"cursor-pointer":"cursor-not-allowed",on:{click:function(t){return e.cancelMeal()}}},[s("i",{staticClass:"text-6xl las la-times"}),e._v(" "),s("span",[e._v(e._s(e.__m("Cancel","NsGastro")))])]),e._v(" "),s("div",{staticClass:"h-32 border ns-numpad-key flex items-center justify-center flex-col",class:"pending"===e.product.cooking_status?"cursor-pointer":"cursor-not-allowed",on:{click:function(t){return e.updateNote()}}},[s("i",{staticClass:"text-6xl las la-comment-alt"}),e._v(" "),s("span",[e._v(e._s(e.__m("Note","NsGastro")))])])])])}),[],!1,null,null,null).exports;const g={name:"gastro-keyboard",data:function(){return{keyboardComponent:function(){return nsComponents.nsNumpad}}},methods:{__m,closePopup:function(){this.$popupParams.reject(!1),this.$popup.close()},updateModifierQuantity:function(e){this.table.selectedSeats=e,this.$forceUpdate()},saveQuantity:function(e){parseFloat(e)>0&&parseFloat(e)<=parseFloat(this.table.seats)?(this.table.selectedSeats=parseFloat(e),this.$popup.close(),this.$popupParams.resolve(this.table)):nsSnackBar.error("Invalid seats provided.").subscribe()}},computed:{selectedSeats:function(){return this.table.selectedSeats||1},table:function(){return this.$popupParams.table}},mounted:function(){}};const y=(0,l.Z)(g,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shadow-lg ns-box w-95vw md:w-3/5-screen"},[s("div",{staticClass:"border-b ns-box-header p-2 flex justify-between items-center"},[s("h3",[e._v(e._s(e.__m("Select Seats","NsGastro")))]),e._v(" "),s("ns-close-button",{on:{click:function(t){return e.closePopup()}}})],1),e._v(" "),s("div",{staticClass:"p-2 border-b ns-box-body"},[s("div",{staticClass:"bg-gray-100 text-3xl flex justify-end p-2"},[e._v(e._s(e.table.selectedSeats))])]),e._v(" "),s("div",{staticClass:"p-2"},[s(e.keyboardComponent(),{tag:"component",attrs:{value:e.selectedSeats},on:{next:function(t){return e.saveQuantity(t)},changed:function(t){return e.updateModifierQuantity(t)}}})],1)])}),[],!1,null,null,null).exports;function w(e,t,s,r,n,o,a){try{var i=e[o](a),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(r,n)}function C(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var o=e.apply(t,s);function a(e){w(o,r,n,a,i,"next",e)}function i(e){w(o,r,n,a,i,"throw",e)}a(void 0)}))}}function k(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function N(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const G={mounted:function(){var e=this;this.ns_gastro_areas_enabled?(this.loadAreas(),this.screen="areas"):(this.loadTables(),this.screen="tables"),this.mode=this.$popupParams.mode||"select",ns.websocket.enabled?this.listenSockets():this.launchIntervalFetches(),Gastro.tableOpenedSubject.next(!0),this.popupCloser(),nsHooks.addAction("ns-pos-payment-destroyed","gastro-reset-cart",(function(){e.isPaying&&(POS.reset(),e.isPaying=!1)}))},destroyed:function(){Gastro.tableOpenedSubject.next(!1),clearTimeout(this.intervalFetches)},data:function(){var e=JSON.parse(localStorage.getItem("gastro.table.settings")),t=ns.date.moment.startOf("day").format(),s=ns.date.moment.endOf("day").format();return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?k(Object(s),!0).forEach((function(t){N(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({screen:"areas",tableLoaded:!1,mouseDown:!1,ordersLoaded:!1,intervalFetches:null,additionalTitle:null,areasLoaded:!1,selectedArea:null,selectedTable:null,selectedSessions:null,isPaying:!1,areas:[],tables:[],showDetails:{},sessions:[],orders:[],filterMode:"",mode:"select",settings:{range_starts:null!==e&&e.range_starts||t,range_ends:null!==e&&e.range_ends||s}},GastroSettings)},computed:{order:function(){return POS.order.getValue()},hasCustomSettings:function(){return null!==localStorage.getItem("gastro.table.settings")}},methods:{__m,popupCloser,popupResolver,toggleDetails:function(e){this.$set(this.showDetails,e.code,!this.showDetails[e.code]),this.$forceUpdate()},launchIntervalFetches:function(){var e=this;this.intervalFetches=setInterval((function(){"orders"===e.screen&&e.showTableHistory(e.selectedTable),"sessions-orders"===e.screen&&e.loadSessionOrders(e.selectedSessions)}),5e3)},toggleTableSessionHistory:function(){var e=this;"sessions"!==this.screen?(this.sessions=[],nsHttpClient.post("/api/nexopos/v4/gastro/tables/".concat(this.selectedTable.id,"/sessions"),this.settings).subscribe({next:function(t){e.sessions=t,e.screen="sessions"},error:function(e){nsSnackBar.error(__m("An unexpected error has occured.","NsGastro")).subscribe()}})):(this.screen="orders",this.showTableHistory(this.selectedTable))},loadSessionOrders:function(e){var t=this;this.screen="sessions-orders",this.selectedSessions=e,nsHttpClient.post("/api/nexopos/v4/gastro/tables/".concat(this.selectedTable.id,"/sessions/").concat(e.id,"/orders"),this.settings).subscribe({next:function(e){t.orders=e},error:function(e){nsSnackBar.error(__m("An unexpected error has occured.","NsGastro")).subscribe()}})},openSession:function(e){var t=this;Popup.show(nsConfirmPopup,{title:__m("Confirm Your Action","NsGastro"),message:__m("Would you like to open this session ?","NsGastro"),onAction:function(s){s&&nsHttpClient.put("/api/nexopos/v4/gastro/tables/".concat(t.selectedTable.id,"/sessions/").concat(e.id,"/action"),{action:"open"}).subscribe({next:function(e){t.toggleTableSessionHistory(),nsSnackBar.success(e.message,__m("Okay","NsGastro"),{duration:3e3}).subscribe()},error:function(e){nsSnackBar.error(__m("An unexpected error has occured.","NsGastro")).subscribe()}})}})},closeSession:function(e){var t=this;Popup.show(nsConfirmPopup,{title:__m("Confirm Your Action","NsGastro"),message:__m("Would you like to close this session manually ?","NsGastro"),onAction:function(s){s&&nsHttpClient.put("/api/nexopos/v4/gastro/tables/".concat(t.selectedTable.id,"/sessions/").concat(e.id,"/action"),{action:"close"}).subscribe({next:function(e){t.toggleTableSessionHistory(),nsSnackBar.success(e.message,__m("Okay","NsGastro"),{duration:3e3}).subscribe()},error:function(e){nsSnackBar.error(__m("An unexpected error has occured.","NsGastro")).subscribe()}})}})},listenSockets:function(){var e=this;Echo.private("ns.private-channel").listen("App\\Events\\OrderAfterCreatedEvent",(function(t){e.showTableHistory(e.selectedTable)})).listen("Modules\\NsGastro\\Events\\TableAfterUpdatedEvent",(function(t){e.showTableHistory(e.selectedTable)})).listen("App\\Events\\OrderAfterUpdatedEvent",(function(t){e.showTableHistory(e.selectedTable)}))},filterOnlyBusy:function(){["","free"].includes(this.filterMode)?this.filterMode="busy":this.filterMode="",this.loadTables(this.selectedArea)},filterOnlyAvailable:function(){["","busy"].includes(this.filterMode)?this.filterMode="free":this.filterMode="",this.loadTables(this.selectedArea)},setRange:function(e){switch(e){case"today":this.settings.range_starts=moment(ns.date.current).startOf("day").format("YYYY/MM/DD HH:mm:ss"),this.settings.range_ends=moment(ns.date.current).endOf("day").format("YYYY/MM/DD HH:mm:ss");break;case"yesterday":this.settings.range_starts=moment(ns.date.current).subtract(1,"days").startOf("day").format("YYYY/MM/DD HH:mm:ss"),this.settings.range_ends=moment(ns.date.current).endOf("day").format("YYYY/MM/DD HH:mm:ss");break;case"week":this.settings.range_starts=moment(ns.date.current).subtract(6,"days").startOf("day").format("YYYY/MM/DD HH:mm:ss"),this.settings.range_ends=moment(ns.date.current).endOf("day").format("YYYY/MM/DD HH:mm:ss")}localStorage.setItem("gastro.table.settings",JSON.stringify(this.settings))},debounceForAvailability:function(e,t){var s=this;e.busy&&(this.mouseDown=!0,setTimeout((function(){s.mouseDown&&(s.setAvailable(e),t.preventDefault())}),600))},openOrderOption:function(e){var t=this;return C(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,new Promise((function(t,s){Popup.show(b,{resolve:t,reject:s,order:e})}));case 3:s.sent,t.showTableHistory(t.selectedTable),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},addProduct:function(e){Gastro.selectedOrder.next(e),Gastro.setAddButtonsVisibility("visible"),this.$popup.close()},printOrder:function(e){POS.print.process(e.id,"sale","aloud")},payOrder:function(e){var t=this;return C(o().mark((function s(){var r,n;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return r=Popup.show(nsPOSLoadingPopup),n=POS.order.getValue(),s.prev=2,s.next=5,POS.loadOrder(e.id);case 5:if("paid"!==POS.order.getValue().payment_status){s.next=9;break}return POS.reset(),s.abrupt("return",nsSnackBar.error(__m("Unable to make a payment for an already paid order.","NsGastro")).subscribe());case 9:t.proceedCustomerLoading(n),t.isPaying=!0,s.next=16;break;case 13:s.prev=13,s.t0=s.catch(2),console.log(s.t0);case 16:r.close();case 17:case"end":return s.stop()}}),s,null,[[2,13]])})))()},proceedCustomerLoading:function(e){return C(o().mark((function e(){var t,s,r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[ProductsQueue,CustomerQueue,TypeQueue,PaymentQueue],s=POS.order.getValue(),e.t0=o().keys(t);case 3:if((e.t1=e.t0()).done){e.next=17;break}return r=e.t1.value,e.prev=5,n=new t[r](s),e.next=9,n.run();case 9:e.sent,e.next=15;break;case 12:return e.prev=12,e.t2=e.catch(5),e.abrupt("return",!1);case 15:e.next=3;break;case 17:case"end":return e.stop()}}),e,null,[[5,12]])})))()},openSettingsOptions:function(){var e=this;return C(o().mark((function t(){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new Promise((function(t,s){Popup.show(c,{fields:[{type:"datetimepicker",name:"range_starts",label:__m("Start Range","NsGastro"),value:e.settings.range_starts,description:__m("Define when from which moment the orders should be fetched.","NsGastro")},{type:"datetimepicker",name:"range_ends",label:__m("End Range","NsGastro"),value:e.settings.range_ends,description:__m("Define till which moment the orders should be fetched.","NsGastro")}],resolve:t,reject:s,settings:e.settings,title:__m("Settings","NsGastro")})}));case 3:s=t.sent,localStorage.setItem("gastro.table.settings",JSON.stringify(e.settings)),e.settings=s,e.showTableHistory(e.selectedTable),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getMealBGClass:function(e){switch(e.cooking_status){case"ready":case"processed":return"bg-success-secondary";case"ongoing":return"bg-info-secondary";case"canceled":return"bg-input-disabled";case"requested":return"bg-warning-secondary"}},getMealProductTextColor:function(e){return"canceled"===e.cooking_status?"text-secondary":"text-primary"},getMealModifierTextColor:function(e){return"canceled"===e.cooking_status?"text-secondary":"text-primary"},closePopup:function(){this.$popup.close(),this.$popupParams.reject(!1)},returnToAreas:function(){this.loadAreas()},returnToTables:function(){this.selectedTable=null,this.loadTables(this.selectedArea)},loadAreas:function(){var e=this;this.screen="areas",this.areasLoaded=!1,nsHttpClient.get("/api/nexopos/v4/gastro/areas").subscribe({next:function(t){e.areasLoaded=!0,e.areas=t},error:function(e){nsSnackBar.error(e.message||__m("An unexpected error has occured.","NsGastro"),__m("OK","NsGastro"),{duration:0}).subscribe()}})},setAvailable:function(e){var t=this;Popup.show(nsConfirmPopup,{title:__m("Set the table as available ?","NsGastro"),message:__m("You'll set the table as available, please confirm your action.","NsGastro"),onAction:function(s){s&&nsHttpClient.post("/api/nexopos/v4/gastro/tables/".concat(e.id,"/change-availability"),{status:"available"}).subscribe({next:function(e){t.loadTables(t.selectedArea),nsSnackBar.success(e.message,__m("OK","NsGastro"),{duration:3e3}).subscribe()},error:function(e){nsSnackBar.success(e.message||__m("An unexpected error has occured.","NsGastro"),__m("OK","NsGastro"),{duration:3e3}).subscribe()}})}})},loadTables:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.selectedArea=t,this.screen="tables",this.tableLoaded=!1,this.additionalTitle=null,(null===t?nsHttpClient.get("/api/nexopos/v4/gastro/tables?filter=".concat(this.filterMode)):nsHttpClient.get("/api/nexopos/v4/gastro/areas/".concat(t.id,"/available-tables?filter=").concat(this.filterMode))).subscribe({next:function(t){e.tableLoaded=!0,e.tables=t.map((function(t){return t.selectedSeats=1,t.selected=!(!e.order.table||e.order.table.id!==t.id)&&e.order.table,t}))},error:function(e){nsSnackBar.error(e.message||__m("An unexpected error has occured.","NsGastro"),__m("OK","NsGastro"),{duration:0}).subscribe()}})},selectQuantity:function(e){return"select"===this.mode?this.proceedSelect(e):this.showTableHistory(e)},showTableHistory:function(e){var t=this;this.selectedTable=e,this.additionalTitle=__m("{table} : Orders History - {availability}","NsGastro").replace("{availability}",e.busy?__m("Busy","NsGastro"):__m("Available","NsGastro")).replace("{table}",e.name),this.screen="orders",this.ordersLoaded=!1,nsHttpClient.post("/api/nexopos/v4/gastro/tables/".concat(e.id,"/orders"),this.settings).subscribe({next:function(e){t.ordersLoaded=!0,e.map((function(e){return void 0===t.showDetails[e.code]&&(t.showDetails[e.code]=!1),e})),t.orders=e}})},showProductOptions:function(e){var t=this;return C(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,new Promise((function(t,s){Popup.show(x,{resolve:t,reject:s,product:e})}));case 3:s.sent,t.showTableHistory(t.selectedTable),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),console.log(s.t0);case 10:case"end":return s.stop()}}),s,null,[[0,7]])})))()},proceedSelect:function(e){var t=this;return C(o().mark((function s(){return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t.ns_gastro_seats_enabled){s.next=11;break}return s.prev=1,t.tables.forEach((function(e){e.selected=!1,e.selectedSeats=1})),s.next=5,new Promise((function(t,s){Popup.show(y,{resolve:t,reject:s,table:e})}));case 5:e=s.sent,s.next=11;break;case 8:return s.prev=8,s.t0=s.catch(1),s.abrupt("return",nsSnackBar.error(__m("You need to define the seats before proceeding.","NsGastro")).subscribe());case 11:e.selected=!0,t.order.table_id=e.id,t.order.table=e,t.order.area_id=e.area_id,void 0===t.order.type&&(t.order.type=Gastro.getType()),t.order.type.label=Gastro.getType().label,POS.order.next(t.order),t.$popup.close(),t.$popupParams.resolve(e);case 20:case"end":return s.stop()}}),s,null,[[1,8]])})))()}}};const P=(0,l.Z)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shadow-full ns-box w-95vw h-95vh md:w-4/5-screen lg:w-4/6-screen md:h-4/5-screen overflow-hidden flex flex-col"},[s("div",{staticClass:"border-b ns-box-header p-2 flex flex-col md:flex-row justify-between items-center",class:null!==e.selectedTable&&e.selectedTable.busy?"bg-success-tertiary text-white":""},[s("div",{staticClass:"flex-auto"},[s("h3",{staticClass:"font-semibold mb-1 md:mb-0 text-primary"},[e.additionalTitle?e._e():s("span",[e._v(e._s(e.__m("Table Management","NsGastro")))]),e._v(" "),e.additionalTitle?s("span",[e._v(e._s(e.additionalTitle))]):e._e()])]),e._v(" "),s("div",{staticClass:"flex items-center justify-between w-full md:w-auto"},[s("div",{staticClass:"flex"},[["orders","sessions-orders"].includes(e.screen)?s("div",{staticClass:"px-1"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 border ns-inset-button success",class:e.hasCustomSettings?"info":"",on:{click:function(t){return e.openSettingsOptions()}}},[s("i",{staticClass:"las la-tools"}),e._v(" "),s("span",[e._v(e._s(e.__m("Settings","NsGastro")))])])]):e._e(),e._v(" "),["orders","sessions-orders","sessions"].includes(e.screen)&&e.ns_gastro_enable_table_sessions?s("div",{staticClass:"px-1"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 border ns-inset-button",class:["sessions","sessions-orders"].includes(e.screen)?"info":"",on:{click:function(t){return e.toggleTableSessionHistory()}}},[s("i",{staticClass:"las la-history"}),e._v(" "),s("span",[e._v(e._s(e.__m("Session History","NsGastro")))])])]):e._e(),e._v(" "),"tables"===e.screen?s("div",{staticClass:"px-1 -mx-1 flex flex-col md:flex-row"},[s("div",{staticClass:"px-1"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 border border-gray1200 ns-inset-button success",class:"busy"===e.filterMode?"active":"",on:{click:function(t){return e.filterOnlyBusy()}}},[e._v("\n              "+e._s(e.__m("Only Busy Tables","NsGastro"))+"\n            ")])]),e._v(" "),s("div",{staticClass:"px-1"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 border border1gray-200 ns-inset-button success",class:"free"===e.filterMode?"active":"",on:{click:function(t){return e.filterOnlyAvailable()}}},[e._v("\n              "+e._s(e.__m("Only Available Tables","NsGastro"))+"\n            ")])])]):e._e(),e._v(" "),e.ns_gastro_areas_enabled&&"tables"===e.screen?s("div",{staticClass:"px-1 -mx-2 flex"},[s("div",{staticClass:"px-2"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 ns-inset-button error border",on:{click:function(t){return e.returnToAreas()}}},[e._v("\n              "+e._s(e.__m("Return","NsGastro"))+"\n            ")])])]):e._e(),e._v(" "),["orders","sessions-orders"].includes(e.screen)?s("div",{staticClass:"px-1"},[s("button",{staticClass:"outline-none rounded-full px-3 py-1 ns-inset-button error border",on:{click:function(t){return e.returnToTables()}}},[e._v("\n            "+e._s(e.__m("Return","NsGastro"))+"\n          ")])]):e._e()]),e._v(" "),s("div",{staticClass:"px-1"},[s("ns-close-button",{on:{click:function(t){return e.closePopup()}}})],1)])]),e._v(" "),["orders","sessions-orders"].includes(e.screen)?s("div",{staticClass:"overflow-hidden flex flex-col flex-auto"},[e.orders.length>0?s("div",{staticClass:"flex-auto overflow-y-auto"},[s("div",{staticClass:"flex flex-wrap"},e._l(e.orders,(function(t){return s("div",{key:t.id,staticClass:"border border-box-edge w-full p-2 md:w-1/2"},[s("div",{staticClass:"flex justify-between p-2"},[s("h3",{staticClass:"font-semibold"},[e._v(e._s(t.code))]),e._v(" "),s("div",{staticClass:"-mx-1 flex items-center"},[["canceled","ready"].includes(t.gastro_order_status)?e._e():s("div",{staticClass:"px-1"}),e._v(" "),s("div",{staticClass:"px-1"},[e.showDetails[t.code]?e._e():s("button",{staticClass:"rounded-full px-3 ns-inset-button info border",on:{click:function(s){return e.toggleDetails(t)}}},[s("i",{staticClass:"las la-eye"}),e._v(" "),s("span",{staticClass:"text-sm"},[e._v(e._s(e.__m("Show Details","NsGastro")))])]),e._v(" "),e.showDetails[t.code]?s("button",{staticClass:"rounded-full px-3 ns-inset-button info border",on:{click:function(s){return e.toggleDetails(t)}}},[s("i",{staticClass:"las la-low-vision"}),e._v(" "),s("span",{staticClass:"text-sm"},[e._v(e._s(e.__m("Hide Details","NsGastro")))])]):e._e()]),e._v(" "),s("div",{staticClass:"px-1"},["ready"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 success",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Ready","NsGastro"))+"\n                ")]):e._e(),e._v(" "),"ongoing"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 info",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Ongoing","NsGastro"))+"\n                ")]):e._e(),e._v(" "),"pending"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 info",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Pending","NsGastro"))+"\n                ")]):e._e(),e._v(" "),"canceled"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 error",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Canceled","NsGastro"))+"\n                ")]):e._e(),e._v(" "),"requested"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 warning",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Requested","NsGastro"))+"\n                ")]):e._e(),e._v(" "),"processed"===t.gastro_order_status?s("button",{staticClass:"rounded-full ns-inset-button border px-2 info",attrs:{disabled:!0}},[e._v("\n                  "+e._s(e.__m("Processed","NsGastro"))+"\n                ")]):e._e()])])]),e._v(" "),e.showDetails[t.code]?s("div",[s("div",{staticClass:"flex my-1 px-2 text-sm text-primary justify-between"},[s("span",[e._v(e._s(e.__m("Total","NsGastro")))]),e._v(" "),s("span",[e._v(e._s(e._f("currency")(t.total)))])]),e._v(" "),s("div",{staticClass:"flex my-1 px-2 text-sm text-primary justify-between"},[s("span",[e._v(e._s(e.__m("Name","NsGastro")))]),e._v(" "),s("span",[e._v(e._s(t.title||e.__m("N/A","NsGastro")))])]),e._v(" "),s("div",{staticClass:"flex my-1 px-2 text-sm text-primary justify-between"},[s("span",[e._v(e._s(e.__m("Waiter","NsGastro")))]),e._v(" "),s("span",[e._v(e._s(t.user.username||e.__m("N/A","NsGastro")))])]),e._v(" "),s("div",{staticClass:"flex my-1 px-2 text-sm text-primary justify-between"},[s("span",[e._v(e._s(e.__m("Customer","NsGastro")))]),e._v(" "),s("span",[e._v(e._s(t.customer.name||e.__m("N/A","NsGastro")))])])]):e._e(),e._v(" "),s("div",{staticClass:"bg-gray-100"},[s("div",e._l(t.products,(function(t){return s("div",{key:t.id,staticClass:"p-2 hover:bg-blue-100 mb-1 cursor-pointer",class:e.getMealBGClass(t),on:{click:function(s){return e.showProductOptions(t)}}},[s("div",{staticClass:"flex text-sm justify-between",class:e.getMealProductTextColor(t)},[s("h4",{staticClass:"font-semibold"},[e._v("\n                    "+e._s(t.name)+" (x"+e._s(t.quantity)+")\n                  ")]),e._v(" "),s("span",[e._v(e._s(e._f("currency")(t.total_price)))])]),e._v(" "),s("ul",{staticClass:"text-xs",class:e.getMealModifierTextColor(t)},e._l(t.modifiers,(function(t){return s("li",{key:t.id,staticClass:"py-1 border-b border-dashed border-blue-400 flex justify-between"},[s("span",[e._v("\n                      "+e._s(t.name)+" (x"+e._s(t.quantity)+")\n                    ")]),e._v(" "),s("span",[e._v("\n                      "+e._s(e._f("currency")(t.total_price))+"\n                    ")])])})),0)])})),0),e._v(" "),s("div",{staticClass:"flex flex-wrap"},["paid"!==t.payment_status?s("button",{staticClass:"w-1/2 lg:w-1/4 flex items-center justify-center py-1 bg-blue-400 text-white font-semibold",on:{click:function(s){return e.addProduct(t)}}},[s("i",{staticClass:"las la-plus text-2xl mr-1"}),e._v(" "),s("span",[e._v(e._s(e.__m("Add","NsGastro")))])]):e._e(),e._v(" "),"paid"!==t.payment_status?s("button",{staticClass:"w-1/2 lg:w-1/4 flex items-center justify-center py-1 bg-green-400 text-white font-semibold",on:{click:function(s){return e.payOrder(t)}}},[s("i",{staticClass:"las la-money-bill-wave text-2xl mr-1"}),e._v(" "),s("span",[e._v(e._s(e.__m("Pay","NsGastro")))])]):e._e(),e._v(" "),s("button",{staticClass:"w-1/2 lg:w-1/4 flex items-center justify-center py-1 elevation-surface border font-semibold",on:{click:function(s){return e.printOrder(t)}}},[s("i",{staticClass:"las la-print text-2xl mr-1"}),e._v(" "),s("span",[e._v(e._s(e.__m("Print","NsGastro")))])]),e._v(" "),s("button",{staticClass:"w-1/2 lg:w-1/4 flex items-center justify-center py-1 elevation-surface border font-semibold",on:{click:function(s){return e.openOrderOption(t)}}},[s("i",{staticClass:"las la-tools text-2xl mr-1"}),e._v(" "),s("span",[e._v(e._s(e.__m("Options","NsGastro")))])])])])])})),0)]):e._e(),e._v(" "),0!==e.orders.length||e.ordersLoaded?e._e():s("div",{staticClass:"w-full flex items-center justify-center flex-auto"},[s("ns-spinner")],1),e._v(" "),0===e.orders.length&&e.ordersLoaded?s("div",{staticClass:"w-full flex-col text-primary flex items-center justify-center flex-auto"},[s("i",{staticClass:"text-6xl las la-frown"}),e._v(" "),e.ns_gastro_enable_table_sessions?e._e():s("h3",{staticClass:"font-semibold text-lg"},[e._v("\n        "+e._s(e.__m("No orders has been found","NsGastro"))+"\n      ")]),e._v(" "),e.ns_gastro_enable_table_sessions?s("div",{staticClass:"flex flex-col items-center"},[s("h3",{staticClass:"font-semibold text-lg"},[e._v("\n          "+e._s(e.__m("No active sessions were found.","NsGastro"))+"\n        ")]),e._v(" "),s("span",{staticClass:"text-sm"},[e._v(e._s(e.__m("Please use the Session History to browse previous sessions","NsGastro")))])]):e._e()]):e._e(),e._v(" "),s("div",{staticClass:"p-2 flex items-center flex-col md:flex-row justify-between border-t ns-box-footer"},[s("div",{staticClass:"flex -mx-2"},[s("div",{staticClass:"px-2"},[s("button",{staticClass:"rounded-lg shadow hover:shadow-none border px-3 py-1 ns-inset-button",on:{click:function(t){return e.showTableHistory(e.selectedTable)}}},[s("i",{staticClass:"las la-sync text-xl"}),e._v(" "),s("span",[e._v(e._s(e.__m("Refresh","NsGastro")))])])]),e._v(" "),"orders"===e.screen?s("div",{staticClass:"px-2"},[s("button",{staticClass:"outline-none rounded-lg px-3 py-1 ns-inset-button border",class:e.hasCustomSettings?"info":"",on:{click:function(t){e.setRange("today"),e.showTableHistory(e.selectedTable)}}},[s("i",{staticClass:"las la-clock text-xl"}),e._v(" "),s("span",[e._v(e._s(e.__m("Today","NsGastro")))])])]):e._e(),e._v(" "),"orders"===e.screen?s("div",{staticClass:"px-2"},[s("button",{staticClass:"outline-none rounded-lg px-3 py-1 ns-inset-button border",class:e.hasCustomSettings?"info":"",on:{click:function(t){e.setRange("yesterday"),e.showTableHistory(e.selectedTable)}}},[s("i",{staticClass:"las la-clock text-xl"}),e._v(" "),s("span",[e._v(e._s(e.__m("From Yesterday","NsGastro")))])])]):e._e()]),e._v(" "),s("div",{staticClass:"w-full md:w-auto mt-2 md:mt-0 md:m-0 flex -mx-2"},[e.selectedTable.busy?s("div",{staticClass:"px-2"},[s("span",{staticClass:"flex-auto justify-center flex items-center rounded cursor-pointer py-2 px-3 font-semibold shadow bg-green-400 text-white",attrs:{type:"info"},on:{click:function(t){return e.setAvailable(e.selectedTable)}}},[e._v(e._s(e.__m("Set Available","NsGastro")))])]):e._e(),e._v(" "),s("div",{staticClass:"px-2"},[s("span",{staticClass:"flex-auto justify-center flex items-center rounded cursor-pointer py-2 px-3 font-semibold shadow bg-blue-400 text-white",attrs:{type:"info"},on:{click:function(t){return e.proceedSelect(e.selectedTable)}}},[e._v(e._s(e.__m("Select Table","NsGastro")))])])])])]):e._e(),e._v(" "),["sessions"].includes(e.screen)?s("div",{staticClass:"overflow-y-auto flex flex-col p-4 flex-auto bg-gray-100"},[s("div",{staticClass:"flex -m-2 flex-wrap"},e._l(e.sessions,(function(t){return s("div",{key:t.id,staticClass:"w-full mb-2 md:w-1/2 p-2"},[s("div",{staticClass:"rounded flex elevation-surface shadow overflow-hidden"},[e._m(0,!0),e._v(" "),s("div",{staticClass:"p-2 flex-auto justify-center flex flex-col"},[s("h3",{staticClass:"font-semibold"},[e._v("\n              "+e._s(t.name||e.__m("Unnamed Session","NsGastro"))+"\n            ")]),e._v(" "),s("p",{staticClass:"text-sm"},[e._v("\n              "+e._s(e.__m("Active : ","NsGastro"))+"\n              "+e._s(t.active?e.__m("Yes","NsGastro"):e.__m("No","NsGastro"))+"\n            ")]),e._v(" "),s("p",{staticClass:"text-sm"},[e._v("\n              "+e._s(e.__m("Orders : ","NsGastro"))+" "+e._s(t.ordersCount)+"\n            ")])]),e._v(" "),1===t.active?s("div",{staticClass:"border-l border-box-edge go-w-14 flex hover:bg-error-primary hover:text-white cursor-pointer items-center justify-center",on:{click:function(s){return e.closeSession(t)}}},[s("i",{staticClass:"las la-lock"})]):e._e(),e._v(" "),0===t.active?s("div",{staticClass:"border-l border-box-edge go-w-14 flex hover:bg-info-primary hover:text-white cursor-pointer items-center justify-center",on:{click:function(s){return e.openSession(t)}}},[s("i",{staticClass:"las la-unlock"})]):e._e(),e._v(" "),s("div",{staticClass:"border-l border-box-edge go-w-14 flex hover:bg-blue-400 hover:text-white cursor-pointer items-center justify-center",on:{click:function(s){return e.loadSessionOrders(t)}}},[s("i",{staticClass:"las la-eye"})])])])})),0),e._v(" "),0===e.sessions.length?s("div",{staticClass:"p-2 flex flex-auto overflow-y-auto flex-wrap"},[s("div",{staticClass:"w-full flex-col text-primary flex items-center justify-center flex-auto"},[s("i",{staticClass:"text-9xl las la-frown"}),e._v(" "),s("h3",{staticClass:"font-semibold text-lg"},[e._v("\n          "+e._s(e.__m("No sessions have been found","NsGastro"))+"\n        ")])])]):e._e()]):e._e(),e._v(" "),"tables"===e.screen?s("div",{staticClass:"overflow-y-auto flex",class:0===e.tables.length?"flex-auto":""},[e.tables.length>0?s("div",{staticClass:"w-full grid go-grid-cols-3 sm:go-grid-cols-6 md:go-grid-cols-8 lg:go-grid-cols-12 anim-duration-500 fade-in-entrance"},e._l(e.tables,(function(t){return s("div",{key:t.id,staticClass:"border cursor-pointer relative flex-col go-h-52 flex items-center justify-center",class:t.selected?"bg-info-secondary border-info-tertiary":t.busy?"border-success-tertiary bg-success-secondary":"border-box-edge",on:{touchstart:function(s){return e.debounceForAvailability(t,s)},touchend:function(t){e.mouseDown=!1},click:function(s){return e.selectQuantity(t)}}},[t.busy?e._e():s("div",{staticClass:"rounded-full -mb-6 go-h-10 w-10 flex items-center justify-center font-bold fond-bold gastro-pill info"},[e._v("\n          "+e._s(t.seats)+"\n        ")]),e._v(" "),t.busy?s("div",{staticClass:"rounded-full text-center -mb-6 go-h-10 px-3 flex items-center justify-center font-bold gastro-pill success"},[e._v("\n          "+e._s(e.__m("Currently Busy","NsGastro"))+"\n        ")]):e._e(),e._v(" "),s("p",{staticClass:"go-text-2xl go-font-bold go-pt-8"},[e._v(e._s(t.name))])])})),0):e._e(),e._v(" "),0===e.tables.length&&e.tableLoaded?s("div",{staticClass:"w-full flex flex-col items-center justify-center flex-auto text-primary"},[s("i",{staticClass:"text-9xl las la-frown"}),e._v(" "),s("h3",{staticClass:"font-semibold text-lg"},[e._v("\n        "+e._s(e.__m("No tables has been found","NsGastro"))+"\n      ")])]):e._e(),e._v(" "),0!==e.tables.length||e.tableLoaded?e._e():s("div",{staticClass:"w-full flex items-center justify-center flex-auto"},[s("ns-spinner")],1)]):e._e(),e._v(" "),"areas"===e.screen?s("div",{staticClass:"overflow-y-auto flex",class:0===e.areas.length?"flex-auto":""},[e.areas.length>0?s("div",{staticClass:"w-full grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 anim-duration-500 fade-in-entrance"},e._l(e.areas,(function(t){return s("div",{key:t.id,staticClass:"cursor-pointer border flex-col border-box-edge go-h-52 flex items-center justify-center",on:{click:function(s){return e.loadTables(t)}}},[s("img",{attrs:{src:e.icons.menu}}),e._v(" "),s("h1",{staticClass:"my-3"},[e._v(e._s(t.name))])])})),0):e._e(),e._v(" "),0===e.areas.length&&e.areasLoaded?s("div",{staticClass:"w-full flex-col flex-auto flex items-center justify-center text-primary"},[s("i",{staticClass:"text-9xl las la-frown"}),e._v(" "),s("h3",{staticClass:"font-semibold text-lg"},[e._v("\n        "+e._s(e.__m("No areas has been found","NsGastro"))+"\n      ")])]):e._e(),e._v(" "),0!==e.areas.length||e.areasLoaded?e._e():s("div",{staticClass:"w-full flex items-center justify-center flex-auto"},[s("ns-spinner")],1)]):e._e()])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"p-2 flex items-center justify-center"},[t("div",{staticClass:"go-w-14 go-h-14 rounded-full bg-blue-400 font-bold text-3xl text-white flex items-center justify-center"},[t("i",{staticClass:"las la-stopwatch"})])])}],!1,null,null,null).exports}}]);